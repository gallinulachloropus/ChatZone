(this["webpackJsonpnode-chat"]=this["webpackJsonpnode-chat"]||[]).push([[0],{30:function(e,t,n){e.exports=n(67)},35:function(e,t,n){},64:function(e,t){},67:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(27),o=n.n(r),s=n(1),u=(n(35),n(29)),l=n(28),i=n.n(l),m=function(){var e=Object(a.useState)([]),t=Object(s.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(),o=Object(s.a)(r,2),l=o[0],m=o[1],f=Object(a.useRef)();Object(a.useEffect)((function(){Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).PORT;var e="".concat(window.location.hostname);return console.log("Connected to ".concat(e)),f.current=i()("".concat(e)),f.current.on("newMessage",(function(e){c((function(t){return[].concat(Object(u.a)(t),[e])}))})),f.current.on("users",(function(e){m(e)})),function(){f.current.disconnect()}}),[]);return{messages:n,sendMessage:function(e){f.current.emit("newMessage",e)},users:l}},f=function(e){var t=e.onSendMessage,n=e.nickname,r=Object(a.useState)(""),o=Object(s.a)(r,2),u=o[0],l=o[1],i=function(){u&&t(u),l("")};return c.a.createElement("div",{className:"chatbox-container"},c.a.createElement("p",{className:"nickname"},n,": "),c.a.createElement("textarea",{rows:"2",placeholder:"Enter a message...",value:u,onChange:function(e){return l(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&(e.preventDefault(),i())}}),c.a.createElement("button",{onClick:function(e){i()}},"Submit"))},E=function(e){var t=e.messages,n=e.users,a=t.map((function(e,t){return c.a.createElement("li",{key:t},e.date," - ",e.nickname,":  ",e.message)}));return c.a.createElement("div",{className:"messages"},c.a.createElement("h2",null,"Chat"),c.a.createElement("h3",null,n," user(s) online"),c.a.createElement("ul",null,c.a.createElement("li",null,c.a.createElement("em",null,"Welcome to the chat.")),a))},g=function(e){e.nickname;var t=e.setNickname,n=Object(a.useState)(""),r=Object(s.a)(n,2),o=r[0],u=r[1],l=Object(a.useState)(!1),i=Object(s.a)(l,2),m=i[0],f=i[1];return m?c.a.createElement("div",{className:"settings"},c.a.createElement("button",{onClick:function(e){return f(!m)}},c.a.createElement("span",{role:"img","aria-label":"close"},"\u2716\ufe0f")),c.a.createElement("form",{onSubmit:function(e){e.preventDefault(),o&&t(o),u("")}},c.a.createElement("input",{type:"text",placeholder:"Nickname",value:o,onChange:function(e){return u(e.target.value)}}),c.a.createElement("button",null,"Save Settings"))):c.a.createElement("button",{className:"settings-button",onClick:function(e){return f(!m)}},c.a.createElement("span",{role:"img","aria-label":"Settings"},"\ud83d\udd27"))},b=function(){var e=Object(a.useState)("Anonymous"),t=Object(s.a)(e,2),n=t[0],r=t[1],o=m(),u=o.messages,l=o.sendMessage,i=o.users;return Object(a.useEffect)((function(){if(localStorage.getItem("nickname")){var e=localStorage.getItem("nickname")||"";r(e)}}),[]),Object(a.useEffect)((function(){n&&localStorage.setItem("nickname",n)})),c.a.createElement("div",{className:"App"},c.a.createElement(g,{setNickname:r}),c.a.createElement(E,{messages:u,users:i}),c.a.createElement(f,{nickname:n,onSendMessage:function(e){l({message:e,date:new Date(Date.now()).toLocaleString("en-US",{hour:"numeric",minute:"numeric",second:"numeric",hour12:!0}),nickname:n})}}))};o.a.render(c.a.createElement(b,null),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.1a83531a.chunk.js.map
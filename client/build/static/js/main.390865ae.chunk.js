(this["webpackJsonpnode-chat"]=this["webpackJsonpnode-chat"]||[]).push([[0],{30:function(e,t,n){e.exports=n(67)},35:function(e,t,n){},64:function(e,t){},67:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(27),u=n.n(r),o=n(1),s=(n(35),n(29)),i=n(28),l=n.n(i),m=function(){var e=Object(a.useState)([]),t=Object(o.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(),u=Object(o.a)(r,2),i=u[0],m=u[1],f=Object(a.useRef)();Object(a.useEffect)((function(){Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).HOST;var e=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).PORT||"5000";return f.current=l()("https://chat-zone.herokuapp.com:".concat(e)),f.current.on("newMessage",(function(e){c((function(t){return[].concat(Object(s.a)(t),[e])}))})),f.current.on("users",(function(e){m(e)})),function(){f.current.disconnect()}}),[]);return{messages:n,sendMessage:function(e){f.current.emit("newMessage",e)},users:i}},f=function(e){var t=e.onSendMessage,n=e.nickname,r=Object(a.useState)(""),u=Object(o.a)(r,2),s=u[0],i=u[1],l=function(){s&&t(s),i("")};return c.a.createElement("div",{className:"chatbox-container"},c.a.createElement("p",null,n,": "),c.a.createElement("textarea",{rows:"2",placeholder:"Enter a message...",value:s,onChange:function(e){return i(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&(e.preventDefault(),l())}}),c.a.createElement("button",{onClick:function(e){l()}},"Submit"))},E=function(e){var t=e.messages,n=e.users,a=t.map((function(e,t){return c.a.createElement("li",{key:t},e.date," - ",e.nickname,":  ",e.message)}));return c.a.createElement("div",null,c.a.createElement("h2",null,"Chat"),c.a.createElement("h3",null,n," user(s) online"),c.a.createElement("ul",null,c.a.createElement("li",null,c.a.createElement("em",null,"Welcome to the chat.")),a))},O=function(e){e.nickname;var t=e.setNickname,n=Object(a.useState)(""),r=Object(o.a)(n,2),u=r[0],s=r[1];return c.a.createElement("div",{className:"settings"},c.a.createElement("form",{onSubmit:function(e){e.preventDefault(),t(u),s("")}},c.a.createElement("input",{type:"text",value:u,onChange:function(e){return s(e.target.value)}}),c.a.createElement("button",null,"Set Nickname")))},S=function(){var e=Object(a.useState)("Anonymous"),t=Object(o.a)(e,2),n=t[0],r=t[1],u=m(),s=u.messages,i=u.sendMessage,l=u.users;return Object(a.useEffect)((function(){if(localStorage.getItem("nickname")){var e=localStorage.getItem("nickname")||"";r(e)}}),[]),Object(a.useEffect)((function(){n&&localStorage.setItem("nickname",n)})),c.a.createElement("div",{className:"App"},c.a.createElement(O,{setNickname:r}),c.a.createElement(E,{messages:s,users:l}),c.a.createElement(f,{nickname:n,onSendMessage:function(e){i({message:e,date:new Date(Date.now()).toLocaleString("en-US",{hour:"numeric",minute:"numeric",second:"numeric",hour12:!0}),nickname:n})}}))};u.a.render(c.a.createElement(S,null),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.390865ae.chunk.js.map
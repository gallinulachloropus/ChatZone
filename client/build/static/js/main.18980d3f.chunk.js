(this["webpackJsonpnode-chat"]=this["webpackJsonpnode-chat"]||[]).push([[0],{30:function(e,t,n){e.exports=n(67)},35:function(e,t,n){},64:function(e,t){},67:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),o=n(27),r=n.n(o),l=n(1),s=(n(35),n(29)),u=n(28),i=n.n(u),m=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(),r=Object(l.a)(o,2),u=r[0],m=r[1],f=Object(a.useRef)();Object(a.useEffect)((function(){var e=window.location.hostname;return console.log("Connected to ".concat(e)),f.current=i()(e),f.current.on("newMessage",(function(e){c((function(t){return[].concat(Object(s.a)(t),[e])}))})),f.current.on("users",(function(e){m(e)})),function(){f.current.disconnect()}}),[]);return{messages:n,sendMessage:function(e){f.current.emit("newMessage",e)},users:u}},f=function(e){var t=e.onSendMessage,n=e.nickname,o=e.color,r=Object(a.useState)(""),s=Object(l.a)(r,2),u=s[0],i=s[1],m=function(){u&&t(u),i("")};return c.a.createElement("div",{className:"chatbox-container"},c.a.createElement("p",{className:"nickname",style:{color:o}},n,": "),c.a.createElement("textarea",{rows:"2",placeholder:"Enter a message...",value:u,onChange:function(e){return i(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&(e.preventDefault(),m())}}),c.a.createElement("button",{onClick:function(e){m()}},"Submit"))},g=function(e){var t=e.messages,n=e.users,o=t.map((function(e,t){return c.a.createElement("li",{key:t},e.date," - ",c.a.createElement("span",{style:{fontWeight:"bold",color:e.color}},e.nickname),":  ",e.message)})),r=Object(a.useRef)();return Object(a.useEffect)((function(){r.current.scrollIntoView({behavior:"smooth"})})),c.a.createElement("div",{className:"messages"},c.a.createElement("h2",null,"ChatZone"),c.a.createElement("h3",null,n," user(s) online"),c.a.createElement("ul",null,c.a.createElement("li",null,c.a.createElement("em",null,"Welcome to the chat.")),o,c.a.createElement("li",{style:{height:"1px",padding:0,margin:0},ref:r})))},b=function(e){e.nickname;var t=e.setNickname,n=e.color,o=e.setColor,r=Object(a.useState)(""),s=Object(l.a)(r,2),u=s[0],i=s[1],m=Object(a.useState)(!1),f=Object(l.a)(m,2),g=f[0],b=f[1],E=Object(a.useState)(n),d=Object(l.a)(E,2),h=d[0],p=d[1],v=["Black","Red","Blue","Green","Teal","Purple","HotPink"].map((function(e,t){return c.a.createElement("option",{key:t,value:e,style:{color:e,fontWeight:"bold"}},e)}));return g?c.a.createElement("div",{className:"settings"},c.a.createElement("button",{className:"settings-button",onClick:function(e){return b(!g)}},c.a.createElement("span",{role:"img","aria-label":"close"},"\u2716\ufe0f")),c.a.createElement("form",{onSubmit:function(e){e.preventDefault(),u&&t(u),o(h),i("")}},c.a.createElement("input",{type:"text",placeholder:"Nickname",value:u,onChange:function(e){return i(e.target.value)}}),c.a.createElement("select",{onChange:function(e){return p(e.target.value)},value:h},v),c.a.createElement("button",null,c.a.createElement("span",{role:"img","aria-label":"Save"},"\ud83d\udcbe")," Save Settings"))):c.a.createElement("button",{className:"settings-button",onClick:function(e){return b(!g)}},c.a.createElement("span",{role:"img","aria-label":"Settings"},"\ud83d\udd27"))},E=function(){var e=Object(a.useState)("Anonymous"),t=Object(l.a)(e,2),n=t[0],o=t[1],r=Object(a.useState)("Black"),s=Object(l.a)(r,2),u=s[0],i=s[1],E=m(),d=E.messages,h=E.sendMessage,p=E.users;return Object(a.useEffect)((function(){if(localStorage.getItem("nickname")){var e=localStorage.getItem("nickname")||"",t=localStorage.getItem("color")||"";i(t),o(e)}}),[]),Object(a.useEffect)((function(){n&&localStorage.setItem("nickname",n),u&&localStorage.setItem("color",u)})),c.a.createElement("div",{className:"App"},c.a.createElement(b,{setNickname:o,color:u,setColor:i}),c.a.createElement(g,{messages:d,users:p}),c.a.createElement(f,{nickname:n,color:u,onSendMessage:function(e){h({message:e,date:new Date(Date.now()).toLocaleString("en-US",{hour:"numeric",minute:"numeric",second:"numeric",hour12:!0}),nickname:n,color:u})}}))};r.a.render(c.a.createElement(E,null),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.18980d3f.chunk.js.map
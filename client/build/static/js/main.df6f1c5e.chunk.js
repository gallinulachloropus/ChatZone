(this["webpackJsonpnode-chat"]=this["webpackJsonpnode-chat"]||[]).push([[0],{30:function(e,t,n){e.exports=n(67)},35:function(e,t,n){},64:function(e,t){},67:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(27),o=n.n(r),s=n(1),l=(n(35),n(29)),u=n(28),i=n.n(u),m=function(){var e=Object(a.useState)([]),t=Object(s.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)([]),o=Object(s.a)(r,2),u=o[0],m=o[1],g=Object(a.useState)(),f=Object(s.a)(g,2),b=f[0],E=f[1],d=Object(a.useRef)();Object(a.useEffect)((function(){var e=document.title,t=window.location.hostname;return console.log("Connected to ".concat(t)),d.current=i()(t),d.current.on("prevMsg",(function(e){Array.isArray(e)&&c(e)})),d.current.on("users",(function(e){E(e)})),d.current.on("newMessage",(function(t){document.title="New Message ! | ".concat(e),setTimeout((function(){document.title=e}),3e3),m((function(e){return[].concat(Object(l.a)(e),[t])}))})),function(){d.current.disconnect()}}),[]);return{messages:u,sendMessage:function(e){d.current.emit("newMessage",e)},users:b,storedMessages:n}},g=function(e){var t=e.onSendMessage,n=e.nickname,r=e.color,o=Object(a.useState)(""),l=Object(s.a)(o,2),u=l[0],i=l[1],m=function(){u&&(u.length<300?t(u):alert("Message must be under 300 characters.")),i("")},g=Object(a.useRef)();return c.a.createElement("div",{className:"chatbox-container"},c.a.createElement("p",{className:"nickname",style:{color:r}},n,": "),c.a.createElement("textarea",{ref:g,rows:"2",placeholder:"Enter a message...",value:u,onChange:function(e){return i(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&(e.preventDefault(),m())}}),c.a.createElement("button",{onClick:function(e){m()}},"Submit"))},f=function(e){var t=e.storedMessages,n=e.messages,r=e.users,o="";t&&(o=t.map((function(e,t){return c.a.createElement("li",{key:t},e.date," - ",c.a.createElement("span",{style:{fontWeight:"bold",color:e.color}},e.nickname),":  ",e.message)})));var s=n.map((function(e,t){return c.a.createElement("li",{key:t},e.date," - ",c.a.createElement("span",{style:{fontWeight:"bold",color:e.color}},e.nickname),":  ",e.message)})),l=Object(a.useRef)();return Object(a.useEffect)((function(){l.current.scrollIntoView({behavior:"smooth"})}),[n]),c.a.createElement("div",{className:"messages"},c.a.createElement("h1",null,"ChatZone"),c.a.createElement("h3",null,r," user(s) online"),c.a.createElement("ul",null,c.a.createElement("li",null,c.a.createElement("em",null,"Welcome to the chat.")),o,s,c.a.createElement("li",{style:{height:"1px",padding:0,margin:0},ref:l})))},b=function(e){e.nickname;var t=e.setNickname,n=e.color,r=e.setColor,o=Object(a.useState)(""),l=Object(s.a)(o,2),u=l[0],i=l[1],m=Object(a.useState)(!1),g=Object(s.a)(m,2),f=g[0],b=g[1],E=Object(a.useState)(n),d=Object(s.a)(E,2),h=d[0],p=d[1],O=["Black","Red","Blue","Green","Teal","Purple","HotPink","Orange"].map((function(e,t){return c.a.createElement("option",{key:t,value:e,style:{color:e,fontWeight:"bold"}},e)}));return f?c.a.createElement("div",{className:"settings"},c.a.createElement("button",{className:"settings-button",onClick:function(e){return b(!f)}},c.a.createElement("span",{role:"img","aria-label":"close"},"\u2716\ufe0f")),c.a.createElement("form",{onSubmit:function(e){e.preventDefault(),u&&t(u),r(h),i(""),b(!f)}},c.a.createElement("input",{type:"text",placeholder:"Nickname",value:u,onChange:function(e){return i(e.target.value)}}),c.a.createElement("select",{onChange:function(e){return p(e.target.value)},value:h},O),c.a.createElement("button",null,c.a.createElement("span",{role:"img","aria-label":"Save"},"\ud83d\udcbe")," Save Settings"))):c.a.createElement("button",{className:"settings-button",onClick:function(e){return b(!f)}},c.a.createElement("span",{role:"img","aria-label":"Settings"},"\u2699\ufe0f"))},E=function(){var e=Object(a.useState)("Anonymous"),t=Object(s.a)(e,2),n=t[0],r=t[1],o=Object(a.useState)("Black"),l=Object(s.a)(o,2),u=l[0],i=l[1],E=m(),d=E.messages,h=E.sendMessage,p=E.users,O=E.storedMessages;return Object(a.useEffect)((function(){if(localStorage.getItem("nickname")){var e=localStorage.getItem("nickname")||"",t=localStorage.getItem("color")||"";i(t),r(e)}}),[]),Object(a.useEffect)((function(){n&&localStorage.setItem("nickname",n),u&&localStorage.setItem("color",u)})),c.a.createElement("div",{className:"App"},c.a.createElement(b,{setNickname:r,color:u,setColor:i}),c.a.createElement(f,{storedMessages:O,messages:d,users:p}),c.a.createElement(g,{nickname:n,color:u,onSendMessage:function(e){h({message:e,date:new Date(Date.now()).toLocaleString("en-US",{hour:"numeric",minute:"numeric",second:"numeric",hour12:!0}),nickname:n,color:u})}}))};o.a.render(c.a.createElement(E,null),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.df6f1c5e.chunk.js.map